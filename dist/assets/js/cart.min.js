!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2)}([function(e,t){e.exports.setCookie=function(e,t,o){var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"},e.exports.getCookie=function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),r=0;r<o.length;r++){for(var n=o[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}},,function(e,t,o){"use strict";var r=o(3),n=o(0),i=r.getOrder();$(document).ready(function(){!function(){for(var e=0;e<i.products.length;e++){var t='\n        <li class="list-group-item d-flex justify-content-between lh-condensed" data-id="'+i.products[e].id+'">\n            <div class="remove-item">\n                <i class="fas fa-times"></i>\n            </div>\n            <div>\n                <h6 class="my-0">'+i.products[e].title+'</h6>\n            </div>\n            <span class="text-muted">'+i.products[e].price+" ISK</span>\n        </li>\n        ";$("#order-price").text(i.price),$("#product-list").prepend(t)}}(),$("#order-price-modal").text(i.price),$(".remove-item").on("click",function(e){console.log("ASDF"),function(e){console.log("removing product: "+e);for(var t=0;t<i.products.length;t++)if(console.log(i.products[t]),i.products[t].id==e){console.log("Removing product: "+e),i.price-=i.products[t].price,i.products.splice(t,1);break}console.log(i);var o="";for(t=0;t<i.products.length;t++)o+=0!=t?"|"+i.products[t]:i.products[t];n.setCookie("products-cart",o,20)}($(e.target).parent().parent().attr("data-id")),i=r.getOrder(),$(e.target).parent().parent().remove(),$("#order-price").text(i.price)}),$("#checkout-btn").on("click",function(){var e,t=function(){if(0==i.products.length)return null;var e={FirstName:$("#firstName").val(),LastName:$("#lastName").val(),address:$("#address").val(),floor:$("#floor").val(),email:$("#email").val(),phone:$("#phone").val(),city:$("#city").val(),zip:$("#zip").val(),order:i.products,sOption:$('input[name = "send-option"]:checked').val()},t=!0;return $("#invalid-feedback-fname").hide(),$("#invalid-feedback-lname").hide(),$("#invalid-feedback-address").hide(),$("#invalid-feedback-phone").hide(),$("#invalid-feedback-city").hide(),$("#invalid-feedback-zip").hide(),e.FirstName.match(/^(.+)$/)||($("#invalid-feedback-fname").show(),t=!1),e.LastName.match(/^(.+)$/)||($("#invalid-feedback-lname").show(),t=!1),e.address.match(/^(.+ *[0-9]*)$/)||($("#invalid-feedback-address").show(),t=!1),e.phone.match(/^([0-9]{7})$/)||($("#invalid-feedback-phone").show(),t=!1),e.city.match(/^(.+)$/)||($("#invalid-feedback-city").show(),t=!1),e.zip.match(/^([0-9]{3})$/)||($("#invalid-feedback-zip").show(),t=!1),""==e.sOption&&($("#invalid-feedback-soption").show(),t=!1),t?e:null}();console.log(t),null!=t&&(e=t,console.log(e),$.ajax({url:"/checkout",type:"post",contentType:"application/json",data:JSON.stringify(e),success:function(e){$("#order-id").text(e),$("#alertModal").modal("show")},error:function(e){$("#errorModal").modal("show")}}))}),$("#promocode-btn").on("click",function(){}),$('input[name = "send-option"]').change(function(){if("send-option-4"==$('input[name = "send-option"]:checked').val()){var e=i.price+790;$("#order-price").text(e),$("#order-price-modal").text(e)}else $("#order-price").text(i.price),$("#order-price-modal").text(i.price)}),$("#alertModal").on("hidden.bs.modal",function(){n.setCookie("products-cart","",1),window.location.replace("/")})})},function(e,t,o){const r=o(4),n=o(0),i=r.productTypes();e.exports.getOrder=function(){var e=n.getCookie("products-cart").split("|");order={products:[],price:0,id:Math.random().toString(36).substr(2,9)};for(var t=0;t<e.length;t++)for(var o=0;o<i.length;o++)e[t]==i[o].id&&(order.products.push(i[o]),order.price+=parseInt(i[o].price));return order}},function(e,t){e.exports.productTypes=function(){return[{title:"Noir",price:"6990",id:"1",img:"images/pillow2.jpg"},{title:"Blanco",price:"6990",id:"2",img:"images/pillow1.jpg"},{title:"RosÃ©",price:"6990",id:"3",img:"images/pillow3.jpg"}]}}]);